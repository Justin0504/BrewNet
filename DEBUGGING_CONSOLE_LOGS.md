# 控制台日志调试指南

如果控制台没有显示任何日志，请按以下步骤检查：

## 1. 检查控制台是否打开

### 在 Xcode 中：
- 按 `⌘ + Shift + Y` 打开/关闭控制台
- 或者点击 Xcode 底部中间的 "Show/Hide Debug Area" 按钮
- 确保控制台窗口是可见的

### 检查控制台显示设置：
- 在控制台右上角，确保选择了正确的显示模式：
  - **All Output** - 显示所有输出（推荐）
  - **Debugger Output** - 只显示调试器输出
  - **Target Output** - 只显示目标输出

### 清除过滤器：
- 检查控制台右上角的搜索框是否为空
- 如果有过滤条件，会隐藏匹配的日志

## 2. 检查构建配置

### 确保使用 Debug 模式：
- 在 Xcode 顶部工具栏，选择 Scheme
- 确保选择了 **Debug** 而不是 **Release**
- Debug 模式：`⌘ + R` 运行
- Release 模式可能会优化掉一些日志

### 检查构建设置：
1. 选择项目 → Target → Build Settings
2. 搜索 "Swift Compiler - Custom Flags"
3. 确保 Debug 配置中有 `DEBUG`

## 3. 检查设备连接

### 如果使用真机：
- 确保设备已通过 USB 连接到 Mac
- 在 Xcode 中，选择正确的设备（Window → Devices and Simulators）
- 确保设备信任了这台 Mac（首次连接时需要在设备上点击"信任"）

### 如果使用模拟器：
- 确保模拟器正在运行
- 在 Xcode 顶部选择正确的模拟器

### 检查控制台是否连接到正确的设备：
- 在 Xcode 控制台顶部，查看是否显示正确的设备名称
- 如果显示 "No device" 或错误的设备，需要重新连接

## 4. 检查应用是否正在运行

### 确认应用已启动：
- 在模拟器/真机上，应该能看到应用界面
- 如果应用崩溃，控制台会显示崩溃日志

### 检查应用状态：
- 在 Xcode 顶部，应该显示 "Running" 状态
- 如果显示 "Stopped"，应用没有运行

## 5. 测试基本日志输出

### 添加测试日志：
在 `BrewNetApp.swift` 的 `init()` 方法中已经有测试日志：
```swift
print("TEST TEST TEST - 如果你看到这条消息，说明应用正在运行")
```

如果连这条消息都看不到，说明：
1. 控制台没有正确配置
2. 应用没有运行
3. 日志被过滤了

## 6. 使用设备日志（如果 Xcode 控制台不工作）

### 查看设备系统日志：
1. 打开 **Console.app**（Mac 上的控制台应用）
2. 在左侧选择连接的设备
3. 在搜索框输入应用名称 "BrewNet"
4. 应该能看到应用的所有日志输出

### 使用命令行查看日志：
```bash
# 查看模拟器日志
xcrun simctl spawn booted log stream --predicate 'processImagePath contains "BrewNet"'

# 查看真机日志（需要设备连接）
# 在 Xcode → Window → Devices and Simulators → 选择设备 → View Device Logs
```

## 7. 常见问题排查

### 问题 1：控制台显示 "No output"
- **原因**：应用可能没有启动，或者控制台没有连接到应用
- **解决**：重新运行应用（⌘ + R）

### 问题 2：控制台只显示系统日志
- **原因**：可能选择了错误的输出源
- **解决**：在控制台顶部选择正确的应用进程

### 问题 3：日志被清空了
- **原因**：控制台被清空（⌘ + K）
- **解决**：重新运行应用，日志会重新出现

### 问题 4：只有部分日志显示
- **原因**：可能有过滤条件
- **解决**：清除控制台搜索框，选择 "All Output"

## 8. 验证日志是否真的在工作

### 添加更多测试日志：
在应用启动时，应该能看到以下日志：
```
🚀 =========================================
🚀 BrewNetApp initialized
🚀 =========================================
TEST TEST TEST - 如果你看到这条消息，说明应用正在运行
```

如果这些日志都看不到，请检查：
1. Xcode 版本是否支持（建议使用最新版本）
2. macOS 版本是否兼容
3. 是否有其他应用占用了控制台输出

## 9. 替代方案：使用文件日志

如果控制台完全不工作，可以考虑添加文件日志：
- 将日志写入文件
- 在应用内显示日志
- 通过网络发送日志

## 快速检查清单

- [ ] 控制台窗口已打开（⌘ + Shift + Y）
- [ ] 选择了 "All Output" 模式
- [ ] 控制台搜索框为空（无过滤）
- [ ] 使用 Debug 模式运行（不是 Release）
- [ ] 设备/模拟器已正确连接
- [ ] 应用正在运行（显示 Running 状态）
- [ ] 控制台连接到正确的设备
- [ ] 尝试清除控制台（⌘ + K）后重新运行

如果以上都检查过了还是看不到日志，可能是：
1. Xcode 配置问题
2. 系统权限问题
3. 需要重启 Xcode 或 Mac

